<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HN Who is hiring</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="index.css" />
    <!-- Link to external CSS -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#333333" />
  </head>

  <body class="dark">
    <header>
      <div class="header-content">
        <!-- Text Logo Start -->
        <div class="text-logo">
          <span class="logo-hn">HN</span>
          <span class="logo-wh">WHO'S<br />HIRING</span>
        </div>
        <!-- Text Logo End -->
      </div>
      <button
        class="icon-link-button"
        aria-label="View source on GitHub"
        onclick="window.open('https://github.com/dheerajck/hnwhoishiring', '_blank', 'noopener,noreferrer')"
      >
        <i class="fab fa-github"></i>
      </button>
      <button
        id="themeToggle"
        class="icon-link-button"
        aria-label="Switch theme"
      >
        <i class="fas fa-moon"></i>
      </button>
    </header>

    <main>
      <section class="controls">
        <div class="search-container">
          <div class="search-field-wrapper">
            <i class="fas fa-search search-icon-main" aria-hidden="true"></i>
            <input
              id="search"
              type="text"
              placeholder="python | javascript & remote & ~us-based"
              aria-label="Search jobs"
            />
            <button
              id="clearSearchBtn"
              class="clear-search-btn"
              aria-label="Clear search"
              title="Clear search"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
          <!-- Add Operator Buttons Container -->
          <div class="operator-buttons">
            <button class="op-btn" data-op=" & " title="AND Operator">&</button>
            <button class="op-btn" data-op=" | " title="OR Operator">|</button>
            <button class="op-btn" data-op=" ~" title="NOT Operator">~</button>

            <button
              id="openHelpModal"
              class="help-modal-btn"
              onclick="setupHelpModal()"
              style="
                margin-left: 1rem;
                font-weight: bold;
                display: flex;
                align-items: center;
                gap: 0.5em;
              "
            >
              Help
              <i
                class="fas fa-question-circle"
                aria-hidden="true"
                style="font-size: 1em"
              ></i>
            </button>
            <div
              id="helpModal"
              class="help-modal-overlay"
              style="display: none"
            >
              <div class="help-modal-window">
                <button
                  id="closeHelpModal"
                  class="help-modal-close"
                  aria-label="Close help"
                >
                  &times;
                </button>
                <h2 style="margin-top: 0">Search Help</h2>
                <ul style="padding-left: 1.2em">
                  <li>
                    <b><code>remote</code></b
                    ><br />Matches jobs containing the word or substring
                    <code>remote</code>.
                  </li>
                  <li>
                    <b><code>"@gmail.com"</code></b
                    ><br />Matches jobs containing the exact string
                    <code>"@gmail.com"</code>.
                  </li>
                  <li>
                    <b><code>rust &amp; backend</code></b
                    ><br />Matches jobs that mention both <code>rust</code>
                    <b>and</b> <code>backend</code>.
                  </li>
                  <li>
                    <b><code>react | angular</code></b
                    ><br />Matches jobs that mention <b>either</b>
                    <code>react</code> <b>or</b> <code>angular</code>.
                  </li>
                  <li>
                    <b><code>~us-based</code></b
                    ><br />Excludes jobs that mention the word
                    <code>us-based</code>.
                  </li>
                  <li>
                    <b><code>~"bay area"</code></b
                    ><br />Excludes jobs that mention the exact string
                    <code>"bay area"</code>.
                  </li>
                  <li>
                    <b
                      ><code
                        >python | javascript &amp; remote &amp; ~us-based</code
                      ></b
                    ><br />Matches jobs that mention <code>python</code>
                    <b>or</b> <code>javascript</code>, <b>and</b>
                    <code>remote</code>, but <b>not</b> <code>us-based</code>.
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div id="parsed-query-display" class="parsed-query-container"></div>
          <a href="#" id="try-example-search" class="try-example-link"
            >Try example search</a
          >
        </div>

        <div class="control-buttons filter-row">
          <!-- Filter buttons will be injected here by JS -->
        </div>

        <div class="category-switcher" aria-label="Category navigation">
          <!-- Category buttons will be injected here by JS -->
        </div>
        <hr class="category-divider" />
      </section>

      <!-- Existing Month Switcher - now hierarchical -->
      <nav class="switcher" aria-label="Thread navigation">
        <div class="year-selector"></div>
        <div class="month-selector"></div>
      </nav>

      <div
        id="load-time-info"
        style="font-size: 0.85rem; color: #999; margin-bottom: 0.5rem"
      ></div>

      <section id="jobs" class="job-listings" aria-live="polite">
        <div class="loading">
          <i class="fas fa-circle-notch" aria-hidden="true"></i>
          Loading job listings...
        </div>
      </section>
    </main>

    <div
      id="toast"
      class="toast"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    ></div>

    <button id="goToTop" class="go-to-top" aria-label="Go to top">
      <i class="fas fa-arrow-up"></i>
    </button>

    <script src="index.js" type="module"></script>
    <!-- Changed from app.js to index.js -->

    <script
      data-goatcounter="https://dheerajck.goatcounter.com/count"
      async
      src="https://gc.zgo.at/count.js"
    ></script>
    <!-- Debug Memory Usage Box -->
    <div id="memory-usage-box" style="position:fixed;bottom:10px;right:10px;background:#222;color:#fff;padding:8px 14px;border-radius:6px;font-size:13px;z-index:9999;opacity:0.85;box-shadow:0 2px 8px rgba(0,0,0,0.2);">
      Memory: <span id="memory-usage-value">-</span>
    </div>
  </body>
</html>
